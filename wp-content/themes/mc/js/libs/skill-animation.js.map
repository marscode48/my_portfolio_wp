{"version":3,"names":[],"mappings":"","sources":["libs/skill-animation.js"],"sourcesContent":["export class SkillAnimation {\n  constructor(el) {\n    this.DOM = {};\n    this.DOM.el = el;\n    this.DOM.items = this.DOM.el.querySelectorAll('.skill__item');\n    this.animate();\n  }\n\n  animate() {\n    const mm = gsap.matchMedia();\n\n    const motionPath = this.DOM.el.querySelector('.skill__motion-path');\n    const polygon = this.DOM.el.querySelector('#skill-polygon');\n    const desctopPath = this.DOM.el.querySelector('#skill-pc-path');\n    const mobilePath = this.DOM.el.querySelector('#skill-sp-path');\n\n    // motion-path (for Desctop)\n    mm.add('(min-width: 600px)', () => {\n      const pathTl = gsap.timeline({\n        scrollTrigger: {\n          trigger: this.DOM.el,\n          start: 'top center',\n          end: 'bottom center',\n          toggleClass: { targets: motionPath, className: 'motion-path-active' },\n          scrub: true,\n          // markers: true,\n        },\n      });\n\n      pathTl.fromTo(polygon,\n        { x: 0, y: 0 },\n        {\n          ease: 'none',\n          motionPath: {\n          // SVGのパスに沿って移動\n            path: desctopPath,\n            align: desctopPath,\n            autoRotate: true,\n            alignOrigin: [0.5, 0.5],\n          },\n        });\n    });\n\n    // motion-path (for Mobile)\n    mm.add('(max-width: 599px)', () => {\n      const pathTl = gsap.timeline({\n        scrollTrigger: {\n          trigger: this.DOM.el,\n          start: 'top center',\n          end: 'bottom center',\n          toggleClass: { targets: motionPath, className: 'motion-path-active' },\n          scrub: true,\n          // markers: true,\n        },\n      });\n\n      pathTl.fromTo(polygon,\n        { x: 0, y: 0 },\n        {\n          ease: 'none',\n          motionPath: {\n          // SVGのパスに沿って移動\n            path: mobilePath,\n            align: mobilePath,\n            autoRotate: true,\n            alignOrigin: [0.5, 0.5],\n          },\n        });\n    });\n\n    // text-animation\n    const stagger = 0.05;\n\n    this.DOM.items.forEach((item) => {\n      const img = item.querySelector('.skill__img');\n      const rect = item.querySelector('.skill__name .rect');\n      const label = item.querySelector('.skill__name .label');\n      const slideX = item.querySelector('.skill__text.slideX');\n\n      const skillTl = gsap.timeline({\n        scrollTrigger: {\n          trigger: item,\n          start: 'top 80%',\n          toggleActions: 'play none none none',\n        },\n      });\n\n      skillTl.to(\n        img,\n        {\n          keyframes: {\n            '0%': { y: 45, autoAlpha: 0, ease: 'power4.in' },\n            '24%': { autoAlpha: 1 },\n            '25%': { y: 0, ease: 'power4.out' },\n            '40%': { y: 24, ease: 'power4.in' },\n            '55%': { y: 0, ease: 'power4.out' },\n            '65%': { y: 12, ease: 'power4.in' },\n            '75%': { y: 0, ease: 'power4.out' },\n            '82%': { y: 6, ease: 'power4.in' },\n            '87%': { y: 0, ease: 'power4.out' },\n            '93%': { y: 4, ease: 'power4.in' },\n            '100%': { y: 0, autoAlpha: 1, ease: 'power4.out' },\n          },\n          duration: 0.7,\n        },\n      );\n      skillTl.fromTo(\n        rect,\n        {\n          x: '-105%',\n        },\n        {\n          x: '105%',\n          duration: 1,\n          stagger,\n          ease: 'power3.inout',\n        },\n        '-=0.4',\n      );\n      skillTl.fromTo(\n        label,\n        {\n          alpha: 0,\n        },\n        {\n          alpha: 1,\n          duration: 0.3,\n          delay: 0.5,\n          stagger,\n        },\n        '<',\n      );\n      skillTl.fromTo(\n        slideX,\n        {\n          alpha: 0,\n          x: -32,\n        },\n        {\n          alpha: 1,\n          x: 0,\n          duration: 0.75,\n          delay: 0.2,\n          stagger,\n          ease: 'power3.out',\n        },\n        '<',\n      );\n    });\n  }\n}\n"],"file":"skill-animation.js"}